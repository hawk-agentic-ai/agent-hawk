"use strict";(self.webpackChunkhedge_accounting_sfx=self.webpackChunkhedge_accounting_sfx||[]).push([[260],{260:(E,m,s)=>{s.r(m),s.d(m,{OverlayComponent:()=>S});var p=s(2881),c=s(1141),u=s(661),y=s(2242),g=s(8833),h=s(1570),d=s(4341),f=s(8542),e=s(1360),v=s(1880);const w=["input"],_=(a,r,n)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":a,"p-disabled":r,"p-focus":n}),k={provide:d.kq,useExisting:(0,e.Rfq)(()=>b),multi:!0};let b=(()=>{class a{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new e.bkB;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(n){this.cd=n}onClick(n){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:n,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(n){this.modelValue=n,this.cd.markForCheck()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:a,selectors:[["p-inputSwitch"]],viewQuery:function(i,t){if(1&i&&e.GBs(w,5),2&i){let o;e.mGM(o=e.lsd())&&(t.input=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",e.Udg],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",e.L39],readonly:[2,"readonly","readonly",e.L39],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",e.L39]},outputs:{onChange:"onChange"},standalone:!1,features:[e.Jv_([k])],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(i,t){if(1&i){const o=e.RV6();e.j41(0,"div",1),e.bIt("click",function(V){return e.eBV(o),e.Njj(t.onClick(V))}),e.j41(1,"div",2)(2,"input",3,0),e.bIt("focus",function(){return e.eBV(o),e.Njj(t.onFocus())})("blur",function(){return e.eBV(o),e.Njj(t.onBlur())}),e.k0s()(),e.nrm(4,"span",4),e.k0s()}2&i&&(e.HbH(t.styleClass),e.Y8G("ngClass",e.sMw(19,_,t.checked(),t.disabled,t.focused))("ngStyle",t.style),e.BMQ("data-pc-name","inputswitch")("data-pc-section","root"),e.R7$(),e.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),e.R7$(),e.Y8G("checked",t.checked())("disabled",t.disabled)("autofocus",t.autofocus),e.BMQ("id",t.inputId)("aria-checked",t.checked())("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("name",t.name)("tabindex",t.tabindex)("data-pc-section","hiddenInput"),e.R7$(2),e.BMQ("data-pc-section","slider"))},dependencies:[p.YU,p.B3,v.q],styles:['@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}\n'],encapsulation:2,changeDetection:0})}return a})(),j=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[p.MD,v.u]})}return a})();var C=s(1667),A=s(5779);const D=()=>["name","description","type"],O=()=>({width:"500px"}),M=(a,r,n,i)=>({"bg-blue-100 text-blue-800":a,"bg-green-100 text-green-800":r,"bg-purple-100 text-purple-800":n,"bg-orange-100 text-orange-800":i}),F=(a,r,n)=>({"bg-green-100 text-green-800":a,"bg-gray-100 text-gray-800":r,"bg-yellow-100 text-yellow-800":n});function R(a,r){1&a&&(e.j41(0,"tr")(1,"th",38),e.EFF(2," ID "),e.nrm(3,"p-sortIcon",39),e.k0s(),e.j41(4,"th",40),e.EFF(5," Name "),e.nrm(6,"p-sortIcon",41),e.k0s(),e.j41(7,"th",42),e.EFF(8," Type "),e.nrm(9,"p-sortIcon",43),e.k0s(),e.j41(10,"th",44),e.EFF(11," Effective Date "),e.nrm(12,"p-sortIcon",45),e.k0s(),e.j41(13,"th",46),e.EFF(14," Expiry Date "),e.nrm(15,"p-sortIcon",47),e.k0s(),e.j41(16,"th",48),e.EFF(17," Auto Applied "),e.nrm(18,"p-sortIcon",49),e.k0s(),e.j41(19,"th",50),e.EFF(20," Status "),e.nrm(21,"p-sortIcon",51),e.k0s(),e.j41(22,"th",52),e.EFF(23,"Actions"),e.k0s()())}function x(a,r){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"div")(5,"div",53),e.EFF(6),e.k0s(),e.j41(7,"div",54),e.EFF(8),e.k0s()()(),e.j41(9,"td")(10,"span",55),e.EFF(11),e.k0s()(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td",56),e.nrm(17,"i"),e.k0s(),e.j41(18,"td")(19,"span",55),e.EFF(20),e.k0s()(),e.j41(21,"td")(22,"div",57)(23,"button",58),e.bIt("click",function(){const t=e.eBV(n).$implicit,o=e.XpG();return e.Njj(o.editOverlay(t))}),e.k0s(),e.j41(24,"button",59),e.bIt("click",function(){const t=e.eBV(n).$implicit,o=e.XpG();return e.Njj(o.deleteOverlay(t))}),e.k0s()()()()}if(2&a){const n=r.$implicit,i=e.XpG();e.R7$(2),e.JRh(n.id),e.R7$(4),e.JRh(n.name),e.R7$(2),e.JRh(n.description),e.R7$(2),e.Y8G("ngClass",e.ziG(11,M,"FX Rate Adjustment"===n.type,"Market Value Adjustment"===n.type,"Volatility Adjustment"===n.type,"Credit Risk Adjustment"===n.type)),e.R7$(),e.SpI(" ",n.type," "),e.R7$(2),e.JRh(i.formatDate(n.effectiveDate)),e.R7$(2),e.JRh(i.formatDate(n.expiryDate)),e.R7$(2),e.HbH(n.isAutoApplied?"pi pi-check-circle text-green-500":"pi pi-times-circle text-gray-400"),e.R7$(2),e.Y8G("ngClass",e.sMw(16,F,"Active"===n.status,"Inactive"===n.status,"Pending Approval"===n.status)),e.R7$(),e.SpI(" ",n.status," ")}}function T(a,r){1&a&&(e.j41(0,"tr")(1,"td",60)(2,"div",61),e.nrm(3,"i",62),e.j41(4,"span",63),e.EFF(5,"No overlays found"),e.k0s()()()())}function I(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",64)(1,"p-button",65),e.bIt("onClick",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showAddDialog=!1)}),e.k0s(),e.j41(2,"p-button",66),e.bIt("onClick",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.saveOverlay())}),e.k0s()()}}let S=(()=>{class a{constructor(){this.overlays=[],this.showAddDialog=!1,this.searchTerm="",this.selectedStatus=null,this.selectedType=null,this.newOverlay={id:"",name:"",description:"",type:"",effectiveDate:new Date,expiryDate:null,isAutoApplied:!1,status:"Active"},this.overlayTypes=[{label:"FX Rate Adjustment",value:"FX Rate Adjustment"},{label:"Market Value Adjustment",value:"Market Value Adjustment"},{label:"Volatility Adjustment",value:"Volatility Adjustment"},{label:"Credit Risk Adjustment",value:"Credit Risk Adjustment"}],this.statusOptions=[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"},{label:"Pending Approval",value:"Pending Approval"}]}ngOnInit(){this.loadOverlays()}loadOverlays(){this.overlays=[{id:"OVL001",name:"FX Rate Smoothing Overlay",description:"Adjusts FX rate volatility for emerging markets",type:"FX Rate Adjustment",effectiveDate:new Date("2024-10-15"),expiryDate:new Date("2025-10-15"),isAutoApplied:!0,status:"Active"},{id:"OVL002",name:"Market Stress Adjustment",description:"Applies market stress factor during high volatility periods",type:"Market Value Adjustment",effectiveDate:new Date("2024-11-01"),expiryDate:null,isAutoApplied:!1,status:"Active"},{id:"OVL003",name:"Liquidity Risk Overlay",description:"Adjusts for liquidity risk in thinly traded markets",type:"Volatility Adjustment",effectiveDate:new Date("2024-09-20"),expiryDate:new Date("2025-03-20"),isAutoApplied:!0,status:"Active"},{id:"OVL004",name:"Credit Spread Adjustment",description:"Adjusts for counterparty credit risk",type:"Credit Risk Adjustment",effectiveDate:new Date("2024-12-01"),expiryDate:null,isAutoApplied:!0,status:"Pending Approval"},{id:"OVL005",name:"Legacy Market Adjustment",description:"Historical market adjustment factor",type:"Market Value Adjustment",effectiveDate:new Date("2023-06-15"),expiryDate:new Date("2024-06-15"),isAutoApplied:!1,status:"Inactive"}]}saveOverlay(){if(this.newOverlay.name&&this.newOverlay.type){const n={...this.newOverlay,id:`OVL${(this.overlays.length+1).toString().padStart(3,"0")}`};this.overlays.push(n),this.resetNewOverlay(),this.showAddDialog=!1}}editOverlay(n){console.log("Edit overlay:",n)}deleteOverlay(n){this.overlays=this.overlays.filter(i=>i.id!==n.id)}resetNewOverlay(){this.newOverlay={id:"",name:"",description:"",type:"",effectiveDate:new Date,expiryDate:null,isAutoApplied:!1,status:"Active"}}formatDate(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No Expiry"}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-overlay"]],decls:52,vars:30,consts:[[1,"p-6"],[1,"mb-6"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-4","mb-6"],[1,"flex","flex-wrap","items-center","gap-4"],[1,"flex-grow-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search overlays...",1,"w-64",3,"ngModelChange","ngModel"],["placeholder","Overlay Type",1,"w-48",3,"ngModelChange","options","ngModel","showClear"],["placeholder","Status",1,"w-40",3,"ngModelChange","options","ngModel","showClear"],[1,"ml-auto"],["label","Add Overlay","icon","pi pi-plus","styleClass","p-button-primary",3,"onClick"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm p-datatable-gridlines",3,"value","paginator","rows","showCurrentPageReport","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Add Overlay","styleClass","p-fluid",3,"visibleChange","visible","modal","closable"],[1,"grid","grid-cols-1","gap-4","p-4"],[1,"field"],["for","overlayName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayName","type","text","pInputText","","placeholder","Enter overlay name",1,"w-full",3,"ngModelChange","ngModel"],["for","overlayDescription",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayDescription","type","text","pInputText","","placeholder","Enter overlay description",1,"w-full",3,"ngModelChange","ngModel"],["for","overlayType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayType","placeholder","Select overlay type",1,"w-full",3,"ngModelChange","options","ngModel"],["for","effectiveDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","effectiveDate","dateFormat","yy-mm-dd","placeholder","Select effective date",1,"w-full",3,"ngModelChange","ngModel","showIcon"],["for","expiryDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","expiryDate","dateFormat","yy-mm-dd","placeholder","Select expiry date (optional)",1,"w-full",3,"ngModelChange","ngModel","showIcon"],[1,"field","flex","items-center"],["for","isAutoApplied",1,"block","text-sm","font-medium","text-gray-700","mr-4"],["id","isAutoApplied",3,"ngModelChange","ngModel"],["for","overlayStatus",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayStatus","placeholder","Select status",1,"w-full",3,"ngModelChange","options","ngModel"],["pTemplate","footer"],["pSortableColumn","id",2,"width","100px"],["field","id"],["pSortableColumn","name"],["field","name"],["pSortableColumn","type",2,"width","180px"],["field","type"],["pSortableColumn","effectiveDate",2,"width","130px"],["field","effectiveDate"],["pSortableColumn","expiryDate",2,"width","130px"],["field","expiryDate"],["pSortableColumn","isAutoApplied",2,"width","120px"],["field","isAutoApplied"],["pSortableColumn","status",2,"width","120px"],["field","status"],[2,"width","100px"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-center"],[1,"flex","gap-2"],["pButton","","pRipple","","icon","pi pi-pencil","pTooltip","Edit overlay","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Delete overlay","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-danger","p-button-sm",3,"click"],["colspan","8",1,"text-center","p-6"],[1,"flex","flex-col","items-center","justify-center"],[1,"pi","pi-sliders-h","text-gray-300","text-5xl","mb-4"],[1,"text-gray-500"],[1,"flex","justify-end","gap-2"],["label","Cancel","icon","pi pi-times","styleClass","p-button-text",3,"onClick"],["label","Save","icon","pi pi-check","styleClass","p-button-primary",3,"onClick"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Overlay Configuration"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Manage and configure accounting overlay adjustments"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),e.nrm(10,"i",8),e.j41(11,"input",9),e.mxI("ngModelChange",function(l){return e.DH7(t.searchTerm,l)||(t.searchTerm=l),l}),e.k0s()()(),e.j41(12,"p-dropdown",10),e.mxI("ngModelChange",function(l){return e.DH7(t.selectedType,l)||(t.selectedType=l),l}),e.k0s(),e.j41(13,"p-dropdown",11),e.mxI("ngModelChange",function(l){return e.DH7(t.selectedStatus,l)||(t.selectedStatus=l),l}),e.k0s(),e.j41(14,"div",12)(15,"p-button",13),e.bIt("onClick",function(){return t.showAddDialog=!0}),e.k0s()()()(),e.j41(16,"div",14)(17,"p-table",15),e.DNE(18,R,24,0,"ng-template",16)(19,x,25,20,"ng-template",17)(20,T,6,0,"ng-template",18),e.k0s()(),e.j41(21,"p-dialog",19),e.mxI("visibleChange",function(l){return e.DH7(t.showAddDialog,l)||(t.showAddDialog=l),l}),e.j41(22,"div",20)(23,"div",21)(24,"label",22),e.EFF(25,"Overlay Name"),e.k0s(),e.j41(26,"input",23),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.name,l)||(t.newOverlay.name=l),l}),e.k0s()(),e.j41(27,"div",21)(28,"label",24),e.EFF(29,"Description"),e.k0s(),e.j41(30,"input",25),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.description,l)||(t.newOverlay.description=l),l}),e.k0s()(),e.j41(31,"div",21)(32,"label",26),e.EFF(33,"Overlay Type"),e.k0s(),e.j41(34,"p-dropdown",27),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.type,l)||(t.newOverlay.type=l),l}),e.k0s()(),e.j41(35,"div",21)(36,"label",28),e.EFF(37,"Effective Date"),e.k0s(),e.j41(38,"p-calendar",29),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.effectiveDate,l)||(t.newOverlay.effectiveDate=l),l}),e.k0s()(),e.j41(39,"div",21)(40,"label",30),e.EFF(41,"Expiry Date"),e.k0s(),e.j41(42,"p-calendar",31),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.expiryDate,l)||(t.newOverlay.expiryDate=l),l}),e.k0s()(),e.j41(43,"div",32)(44,"label",33),e.EFF(45,"Auto Applied"),e.k0s(),e.j41(46,"p-inputSwitch",34),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.isAutoApplied,l)||(t.newOverlay.isAutoApplied=l),l}),e.k0s()(),e.j41(47,"div",21)(48,"label",35),e.EFF(49,"Status"),e.k0s(),e.j41(50,"p-dropdown",36),e.mxI("ngModelChange",function(l){return e.DH7(t.newOverlay.status,l)||(t.newOverlay.status=l),l}),e.k0s()()(),e.DNE(51,I,3,0,"ng-template",37),e.k0s()()),2&i&&(e.R7$(11),e.R50("ngModel",t.searchTerm),e.R7$(),e.Y8G("options",t.overlayTypes),e.R50("ngModel",t.selectedType),e.Y8G("showClear",!0),e.R7$(),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.selectedStatus),e.Y8G("showClear",!0),e.R7$(4),e.Y8G("value",t.overlays)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("globalFilterFields",e.lJ4(28,D)),e.R7$(4),e.Aen(e.lJ4(29,O)),e.R50("visible",t.showAddDialog),e.Y8G("modal",!0)("closable",!0),e.R7$(5),e.R50("ngModel",t.newOverlay.name),e.R7$(4),e.R50("ngModel",t.newOverlay.description),e.R7$(4),e.Y8G("options",t.overlayTypes),e.R50("ngModel",t.newOverlay.type),e.R7$(4),e.R50("ngModel",t.newOverlay.effectiveDate),e.Y8G("showIcon",!0),e.R7$(4),e.R50("ngModel",t.newOverlay.expiryDate),e.Y8G("showIcon",!0),e.R7$(4),e.R50("ngModel",t.newOverlay.isAutoApplied),e.R7$(4),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.newOverlay.status))},dependencies:[p.MD,p.YU,c.tm,c._f,c.$n,A.Ei,u.bG,u.XI,u.Tg,u.yc,y.u,y.S,g.kr,g.ms,h.P,h.l,d.YN,d.me,d.BC,d.vS,f.S,f.m,j,b,C.rO,C.Vv],encapsulation:2})}}return a})()}}]);