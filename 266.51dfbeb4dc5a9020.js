"use strict";(self.webpackChunkhedge_accounting_sfx=self.webpackChunkhedge_accounting_sfx||[]).push([[266],{3266:(b,d,r)=>{r.r(d),r.d(d,{AgentModeComponent:()=>f});var i=r(177),g=r(4341),u=r(4211),e=r(4438),p=r(345),m=r(7488);function c(o,l){if(1&o&&(e.j41(0,"option",26),e.EFF(1),e.k0s()),2&o){const t=l.$implicit;e.Y8G("value",t.key),e.R7$(),e.SpI(" ",t.name," ")}}function A(o,l){if(1&o&&(e.j41(0,"span",27),e.EFF(1),e.k0s()),2&o){const t=l.$implicit,s=e.XpG();e.Y8G("ngClass",s.getStageBadgeClass(t)),e.R7$(),e.SpI(" Stage ",t," ")}}let f=(()=>{class o{constructor(t,s){this.sanitizer=t,this.router=s,this.isAgentMode=!0,this.selectedAgent=u.kz,this.hawkAgents=u.X0,console.log("HAWK_AGENTS configuration:",this.hawkAgents),console.log("Available agent keys:",Object.keys(this.hawkAgents)),this.updateAgentUrl()}onToggle(t){this.isAgentMode=!!t,this.isAgentMode||this.router.navigate(["/hawk-agent/prompt-templates"])}onAgentChange(t){this.selectedAgent=t,this.updateAgentUrl(),console.log(`Switched to ${this.getCurrentAgent().name} with API key: ${this.getCurrentAgent().apiKey}`)}updateAgentUrl(){this.agentUrlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.hawkAgents[this.selectedAgent].url)}getCurrentAgent(){return this.hawkAgents[this.selectedAgent]}getAgentOptions(){const t=Object.keys(this.hawkAgents).map(s=>({key:s,name:this.hawkAgents[s].name}));return console.log("Agent options for dropdown:",t),t}getStageBadgeClass(t){return{"1A":"bg-green-100 text-green-800 border border-green-200","1B":"bg-blue-100 text-blue-800 border border-blue-200",2:"bg-orange-100 text-orange-800 border border-orange-200",3:"bg-red-100 text-red-800 border border-red-200"}[t]||"bg-gray-100 text-gray-800 border border-gray-200"}getAgentStatusClass(){return"allocation"===this.selectedAgent?"bg-green-400":"bg-orange-400"}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(p.up),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-hawk-agent-mode"]],standalone:!0,features:[e.aNF],decls:38,vars:14,consts:[[1,"p-6","min-h-full","flex","flex-col",2,"height","100vh"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-600","font-medium"],[1,"px-3","py-1.5","border","border-gray-300","rounded-md","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-1"],["class","px-2 py-1 text-xs font-medium rounded-full",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-3"],[1,"text-sm","text-gray-400"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only",3,"ngModelChange","ngModel"],["role","switch",1,"relative"],[1,"w-12","h-7","rounded-full","transition-colors","duration-200","shadow-inner","ring-1",3,"ngClass"],[1,"absolute","top-0.5","left-0.5","w-6","h-6","bg-white","rounded-full","shadow","transform","transition","duration-200"],[1,"text-sm","text-blue-700","font-medium"],[1,"mb-4","p-3","bg-gray-50","border","border-gray-200","rounded-lg"],[1,"flex","items-center","justify-between"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-400"],[1,"bg-white","rounded-lg","border","border-gray-200","overflow-hidden","flex-1","min-h-0",2,"height","75vh"],["allow","microphone; clipboard-read; clipboard-write",1,"w-full","h-full",2,"border","0","height","100%",3,"src"],[3,"value"],[1,"px-2","py-1","text-xs","font-medium","rounded-full",3,"ngClass"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e.EFF(4,"Agent Mode"),e.k0s(),e.j41(5,"div",3),e.EFF(6),e.k0s()(),e.j41(7,"div",4)(8,"div",5)(9,"label",6),e.EFF(10,"Agent:"),e.k0s(),e.j41(11,"select",7),e.mxI("ngModelChange",function(a){return e.DH7(n.selectedAgent,a)||(n.selectedAgent=a),a}),e.bIt("ngModelChange",function(a){return n.onAgentChange(a)}),e.DNE(12,c,2,2,"option",8),e.k0s()(),e.j41(13,"div",9),e.DNE(14,A,2,2,"span",10),e.k0s(),e.j41(15,"div",11)(16,"span",12),e.EFF(17,"Template Mode"),e.k0s(),e.j41(18,"label",13)(19,"input",14),e.bIt("ngModelChange",function(a){return n.onToggle(a)}),e.k0s(),e.j41(20,"div",15),e.nrm(21,"div",16)(22,"div",17),e.k0s()(),e.j41(23,"span",18),e.EFF(24,"Agent Mode"),e.k0s()()()(),e.j41(25,"div",19)(26,"div",20)(27,"div",11),e.nrm(28,"div",21),e.j41(29,"div")(30,"div",22),e.EFF(31),e.k0s(),e.j41(32,"div",3),e.EFF(33),e.k0s()()(),e.j41(34,"div",23),e.EFF(35),e.k0s()()(),e.j41(36,"div",24),e.nrm(37,"iframe",25),e.k0s()()),2&s&&(e.R7$(6),e.SpI("HAWK Agent - ",n.getCurrentAgent().description,""),e.R7$(5),e.R50("ngModel",n.selectedAgent),e.R7$(),e.Y8G("ngForOf",n.getAgentOptions()),e.R7$(2),e.Y8G("ngForOf",n.getCurrentAgent().stages),e.R7$(5),e.Y8G("ngModel",n.isAgentMode),e.R7$(),e.BMQ("aria-checked",n.isAgentMode),e.R7$(),e.Y8G("ngClass",n.isAgentMode?"bg-blue-600 ring-blue-600":"bg-gray-300 ring-gray-300"),e.R7$(),e.AVh("translate-x-5",n.isAgentMode),e.R7$(6),e.Y8G("ngClass",n.getAgentStatusClass()),e.R7$(3),e.JRh(n.getCurrentAgent().name),e.R7$(2),e.JRh(n.getCurrentAgent().scope.join(", ")),e.R7$(2),e.SpI(" API: ",n.getCurrentAgent().apiKey.substring(0,8),"... "),e.R7$(2),e.Y8G("src",n.agentUrlSafe,e.f$h))},dependencies:[i.MD,i.YU,i.Sq,g.YN,g.xH,g.y7,g.Zm,g.wz,g.BC,g.vS],encapsulation:2})}}return o})()}}]);