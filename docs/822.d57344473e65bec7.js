"use strict";(self.webpackChunkhedge_accounting_sfx=self.webpackChunkhedge_accounting_sfx||[]).push([[822],{5822:(g,d,s)=>{s.r(d),s.d(d,{SfxPositionsComponent:()=>m});var l=s(177),u=s(9641),e=s(4438),a=s(7673),r=s(8384);let c=(()=>{class o{constructor(){this.mockPositions=[{id:"1",entityType:"Subsidiary",entityName:"MBS Bank Ltd Singapore",navType:"Trading",functionalCurrency:"SGD",originalValue:125e6,hedgedAmount:95e6,unhedgedAmount:3e7,lastUpdated:"2024-12-09T10:30:00Z",riskLevel:"Low",hedgeRatio:76},{id:"2",entityType:"Subsidiary",entityName:"MBS Bank Hong Kong",navType:"Investment",functionalCurrency:"HKD",originalValue:89e6,hedgedAmount:67e6,unhedgedAmount:22e6,lastUpdated:"2024-12-09T09:15:00Z",riskLevel:"Medium",hedgeRatio:75.3},{id:"3",entityType:"Branch",entityName:"MBS Bank London",navType:"Trading",functionalCurrency:"GBP",originalValue:156e6,hedgedAmount:1404e5,unhedgedAmount:156e5,lastUpdated:"2024-12-09T08:45:00Z",riskLevel:"Low",hedgeRatio:90},{id:"4",entityType:"Branch",entityName:"MBS Bank Tokyo",navType:"Investment",functionalCurrency:"JPY",originalValue:234e6,hedgedAmount:1872e5,unhedgedAmount:468e5,lastUpdated:"2024-12-09T07:20:00Z",riskLevel:"Medium",hedgeRatio:80},{id:"5",entityType:"Subsidiary",entityName:"MBS Bank India",navType:"Trading",functionalCurrency:"INR",originalValue:78e6,hedgedAmount:546e5,unhedgedAmount:234e5,lastUpdated:"2024-12-09T11:10:00Z",riskLevel:"High",hedgeRatio:70},{id:"6",entityType:"Branch",entityName:"MBS Bank Sydney",navType:"Investment",functionalCurrency:"AUD",originalValue:112e6,hedgedAmount:896e5,unhedgedAmount:224e5,lastUpdated:"2024-12-09T06:30:00Z",riskLevel:"Low",hedgeRatio:80},{id:"7",entityType:"Subsidiary",entityName:"MBS Bank Taiwan",navType:"Trading",functionalCurrency:"TWD",originalValue:67e6,hedgedAmount:469e5,unhedgedAmount:201e5,lastUpdated:"2024-12-09T09:45:00Z",riskLevel:"Medium",hedgeRatio:70},{id:"8",entityType:"Branch",entityName:"MBS Bank New York",navType:"Investment",functionalCurrency:"USD",originalValue:198e6,hedgedAmount:1782e5,unhedgedAmount:198e5,lastUpdated:"2024-12-09T12:00:00Z",riskLevel:"Low",hedgeRatio:90},{id:"9",entityType:"Subsidiary",entityName:"MBS Bank Thailand",navType:"Trading",functionalCurrency:"THB",originalValue:145e6,hedgedAmount:1015e5,unhedgedAmount:435e5,lastUpdated:"2024-12-09T08:15:00Z",riskLevel:"High",hedgeRatio:70},{id:"10",entityType:"Branch",entityName:"MBS Bank Seoul",navType:"Investment",functionalCurrency:"KRW",originalValue:895e5,hedgedAmount:716e5,unhedgedAmount:179e5,lastUpdated:"2024-12-09T10:45:00Z",riskLevel:"Medium",hedgeRatio:80}]}getPositions(){return(0,a.of)(this.mockPositions).pipe((0,r.c)(500))}getPositionById(n){const t=this.mockPositions.find(i=>i.id===n);return(0,a.of)(t).pipe((0,r.c)(300))}getPositionsByEntityType(n){const t=this.mockPositions.filter(i=>i.entityType===n);return(0,a.of)(t).pipe((0,r.c)(400))}getPositionsByCurrency(n){const t=this.mockPositions.filter(i=>i.functionalCurrency===n);return(0,a.of)(t).pipe((0,r.c)(400))}getPositionsByRiskLevel(n){const t=this.mockPositions.filter(i=>i.riskLevel===n);return(0,a.of)(t).pipe((0,r.c)(400))}getTotalHedgedAmount(){const n=this.mockPositions.reduce((t,i)=>t+i.hedgedAmount,0);return(0,a.of)(n).pipe((0,r.c)(200))}getTotalUnhedgedAmount(){const n=this.mockPositions.reduce((t,i)=>t+i.unhedgedAmount,0);return(0,a.of)(n).pipe((0,r.c)(200))}getAverageHedgeRatio(){const n=this.mockPositions.reduce((t,i)=>t+i.hedgeRatio,0)/this.mockPositions.length;return(0,a.of)(Math.round(10*n)/10).pipe((0,r.c)(200))}updatePosition(n){const t=this.mockPositions.findIndex(i=>i.id===n.id);if(-1!==t)return this.mockPositions[t]={...n,lastUpdated:(new Date).toISOString()},(0,a.of)(this.mockPositions[t]).pipe((0,r.c)(300));throw new Error("Position not found")}createPosition(n){const t={...n,id:(this.mockPositions.length+1).toString(),lastUpdated:(new Date).toISOString()};return this.mockPositions.push(t),(0,a.of)(t).pipe((0,r.c)(400))}deletePosition(n){const t=this.mockPositions.findIndex(i=>i.id===n);return-1!==t?(this.mockPositions.splice(t,1),(0,a.of)(!0).pipe((0,r.c)(300))):(0,a.of)(!1).pipe((0,r.c)(300))}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),p=(()=>{class o{constructor(n){this.positionsService=n,this.rowData=[],this.columnDefs=[{field:"entityType",headerName:"Entity Type",width:150},{field:"entityName",headerName:"Entity Name",width:200},{field:"navType",headerName:"NAV Type",width:120,filter:"agSetColumnFilter"},{field:"functionalCurrency",headerName:"Functional Currency",width:150,filter:"agSetColumnFilter"},{field:"originalValue",headerName:"Original Value",width:150,type:"numericColumn",cellRenderer:t=>new Intl.NumberFormat("en-US",{style:"currency",currency:t.data.functionalCurrency||"USD"}).format(t.value)},{field:"hedgedAmount",headerName:"Hedged Amount",width:150,type:"numericColumn",cellRenderer:t=>new Intl.NumberFormat("en-US",{style:"currency",currency:t.data.functionalCurrency||"USD"}).format(t.value)},{field:"unhedgedAmount",headerName:"Unhedged Amount",width:150,type:"numericColumn",cellRenderer:t=>new Intl.NumberFormat("en-US",{style:"currency",currency:t.data.functionalCurrency||"USD"}).format(t.value)},{field:"lastUpdated",headerName:"Last Updated",width:150,cellRenderer:t=>new Date(t.value).toLocaleDateString()}],this.defaultColDef={sortable:!0,filter:"agSetColumnFilter",resizable:!0,flex:1,minWidth:100},this.gridOptions={animateRows:!0,cellSelection:!0,rowSelection:{mode:"multiRow"},pagination:!0,paginationPageSize:20}}ngOnInit(){this.loadPositions()}loadPositions(){this.positionsService.getPositions().subscribe({next:n=>{this.rowData=n},error:n=>{console.error("Error loading positions:",n)}})}onGridReady(n){n.api.sizeColumnsToFit()}static{this.\u0275fac=function(t){return new(t||o)(e.rXU(c))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-positions"]],standalone:!0,features:[e.aNF],decls:37,vars:4,consts:[[1,"p-6"],[1,"mb-6"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"filter-bar"],[1,"filter-row","w-full"],[1,"flex","items-center","space-x-2"],[1,"filter-label"],[1,"filter-input","w-48"],["value",""],["value","subsidiary"],["value","branch"],[1,"filter-input","w-40"],["value","USD"],["value","EUR"],["value","SGD"],[1,"ml-auto"],[1,"btn","btn-primary"],[1,"pi","pi-filter"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"ag-theme-alpine","w-full",2,"height","600px",3,"gridReady","columnDefs","rowData","gridOptions","defaultColDef"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"SFX Positions"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"View and manage hedge accounting positions by entity and currency"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Entity Type:"),e.k0s(),e.j41(11,"select",8)(12,"option",9),e.EFF(13,"All"),e.k0s(),e.j41(14,"option",10),e.EFF(15,"Subsidiary"),e.k0s(),e.j41(16,"option",11),e.EFF(17,"Branch"),e.k0s()()(),e.j41(18,"div",6)(19,"label",7),e.EFF(20,"Currency:"),e.k0s(),e.j41(21,"select",12)(22,"option",9),e.EFF(23,"All"),e.k0s(),e.j41(24,"option",13),e.EFF(25,"USD"),e.k0s(),e.j41(26,"option",14),e.EFF(27,"EUR"),e.k0s(),e.j41(28,"option",15),e.EFF(29,"SGD"),e.k0s()()(),e.j41(30,"div",16)(31,"button",17),e.nrm(32,"i",18),e.j41(33,"span"),e.EFF(34,"Apply Filters"),e.k0s()()()()(),e.j41(35,"div",19)(36,"ag-grid-angular",20),e.bIt("gridReady",function(y){return i.onGridReady(y)}),e.k0s()()()),2&t&&(e.R7$(36),e.Y8G("columnDefs",i.columnDefs)("rowData",i.rowData)("gridOptions",i.gridOptions)("defaultColDef",i.defaultColDef))},dependencies:[l.MD,u.xs],encapsulation:2})}}return o})(),m=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-sfx-positions-analytics"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(t,i){1&t&&e.nrm(0,"app-positions")},dependencies:[l.MD,p],encapsulation:2})}}return o})()}}]);