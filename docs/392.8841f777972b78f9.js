"use strict";(self.webpackChunkhedge_accounting_sfx=self.webpackChunkhedge_accounting_sfx||[]).push([[392],{2392:(R,m,r)=>{r.r(m),r.d(m,{PositionsNavComponent:()=>x});var s=r(467),p=r(177),y=r(9641),_=r(4341),C=r(1141),f=r(1570),h=r(8833),e=r(4438),b=r(7129);let j=(()=>{class l{constructor(){this.supabase=(0,b.b)(),this.table="position_nav_master"}list(n){var i=this;return(0,s.A)(function*(){let t=i.supabase.from(i.table).select("*");if(n?.search?.trim()){const d=n.search.trim();t=t.or(`nav_id.ilike.%${d}%,entity_id.ilike.%${d}%,currency_code.ilike.%${d}%,nav_type.ilike.%${d}%,position_type.ilike.%${d}%`)}t=t.order("as_of_date",{ascending:!1}).order("modified_at",{ascending:!1,nullsFirst:!1});const{data:o,error:a}=yield t;if(a)throw a;return o||[]})()}getById(n){var i=this;return(0,s.A)(function*(){const{data:t,error:o}=yield i.supabase.from(i.table).select("*").eq("nav_id",n).single();if(o)throw o;return t})()}updateById(n,i){var t=this;return(0,s.A)(function*(){const{error:o}=yield t.supabase.from(t.table).update(i).eq("nav_id",n);if(o)throw o;return!0})()}deleteById(n){var i=this;return(0,s.A)(function*(){const{error:t}=yield i.supabase.from(i.table).delete().eq("nav_id",n);if(t)throw t;return!0})()}insert(n){var i=this;return(0,s.A)(function*(){const{error:t}=yield i.supabase.from(i.table).insert(n);if(t)throw t;return!0})()}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var N=r(6031),M=r(5779);const g=()=>({width:"520px"}),u=()=>({width:"100%"});function k(l,v){if(1&l){const n=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showConfirmDelete=!1)}),e.nrm(2,"i",25),e.j41(3,"span"),e.EFF(4,"Cancel"),e.k0s()(),e.j41(5,"button",10),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.confirmDelete())}),e.nrm(6,"i",26),e.j41(7,"span"),e.EFF(8,"Delete"),e.k0s()()()}}function F(l,v){if(1&l){const n=e.RV6();e.j41(0,"div",27)(1,"div",28),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showSheet=!1)}),e.k0s(),e.j41(2,"div",29),e.bIt("click",function(t){return e.eBV(n),e.Njj(t.stopPropagation())}),e.j41(3,"div",30)(4,"h3",31),e.EFF(5),e.k0s(),e.j41(6,"button",32),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showSheet=!1)}),e.nrm(7,"i",25),e.k0s()(),e.j41(8,"div",33)(9,"div",34)(10,"div",35)(11,"div",36)(12,"div",37),e.EFF(13,"General"),e.k0s()(),e.j41(14,"div",38)(15,"div",39)(16,"div",40)(17,"label",41),e.EFF(18,"NAV ID"),e.k0s(),e.j41(19,"input",42),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.nav_id,t)||(o.form.nav_id=t),e.Njj(t)}),e.k0s()(),e.j41(20,"div",40)(21,"label",41),e.EFF(22,"Entity"),e.k0s(),e.j41(23,"p-dropdown",43),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.entity_id,t)||(o.form.entity_id=t),e.Njj(t)}),e.k0s()(),e.j41(24,"div",40)(25,"label",41),e.EFF(26,"Currency"),e.k0s(),e.j41(27,"p-dropdown",44),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.currency_code,t)||(o.form.currency_code=t),e.Njj(t)}),e.k0s()(),e.j41(28,"div",40)(29,"label",41),e.EFF(30,"NAV Type"),e.k0s(),e.j41(31,"p-dropdown",45),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.nav_type,t)||(o.form.nav_type=t),e.Njj(t)}),e.k0s()(),e.j41(32,"div",40)(33,"label",41),e.EFF(34,"Position Type"),e.k0s(),e.j41(35,"p-dropdown",46),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.position_type,t)||(o.form.position_type=t),e.Njj(t)}),e.k0s()(),e.j41(36,"div",40)(37,"label",41),e.EFF(38,"As Of Date"),e.k0s(),e.j41(39,"input",47),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.as_of_date,t)||(o.form.as_of_date=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(40,"div",34)(41,"div",35)(42,"div",36)(43,"div",37),e.EFF(44,"Positions & NAV"),e.k0s()(),e.j41(45,"div",38)(46,"div",39)(47,"div",40)(48,"label",41),e.EFF(49,"Current Position"),e.k0s(),e.j41(50,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.current_position,t)||(o.form.current_position=t),e.Njj(t)}),e.k0s()(),e.j41(51,"div",40)(52,"label",41),e.EFF(53,"Computed Total NAV"),e.k0s(),e.j41(54,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.computed_total_nav,t)||(o.form.computed_total_nav=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(55,"div",34)(56,"div",35)(57,"div",36)(58,"div",37),e.EFF(59,"Adjustments"),e.k0s()(),e.j41(60,"div",38)(61,"div",39)(62,"div",40)(63,"label",41),e.EFF(64,"COI Amount"),e.k0s(),e.j41(65,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.coi_amount,t)||(o.form.coi_amount=t),e.Njj(t)}),e.k0s()(),e.j41(66,"div",40)(67,"label",41),e.EFF(68,"RE Amount"),e.k0s(),e.j41(69,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.re_amount,t)||(o.form.re_amount=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(70,"div",34)(71,"div",35)(72,"div",36)(73,"div",37),e.EFF(74,"Buffer"),e.k0s()(),e.j41(75,"div",38)(76,"div",39)(77,"div",40)(78,"label",41),e.EFF(79,"Buffer %"),e.k0s(),e.j41(80,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.buffer_pct,t)||(o.form.buffer_pct=t),e.Njj(t)}),e.k0s()(),e.j41(81,"div",40)(82,"label",41),e.EFF(83,"Buffer Amount"),e.k0s(),e.j41(84,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.buffer_amount,t)||(o.form.buffer_amount=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(85,"div",34)(86,"div",35)(87,"div",36)(88,"div",37),e.EFF(89,"Manual Overlay"),e.k0s()(),e.j41(90,"div",38)(91,"div",39)(92,"div",40)(93,"label",41),e.EFF(94,"Overlay Amount"),e.k0s(),e.j41(95,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.manual_overlay_amount,t)||(o.form.manual_overlay_amount=t),e.Njj(t)}),e.k0s()(),e.j41(96,"div",49)(97,"label",41),e.EFF(98,"Overlay Notes"),e.k0s(),e.j41(99,"textarea",50),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.manual_overlay_notes,t)||(o.form.manual_overlay_notes=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(100,"div",34)(101,"div",35)(102,"div",36)(103,"div",37),e.EFF(104,"Optimal CAR"),e.k0s()(),e.j41(105,"div",38)(106,"div",39)(107,"div",40)(108,"label",41),e.EFF(109,"Optimal CAR Amount"),e.k0s(),e.j41(110,"input",48),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.optimal_car_amount,t)||(o.form.optimal_car_amount=t),e.Njj(t)}),e.k0s()(),e.j41(111,"div",40)(112,"label",41),e.EFF(113,"Optimal CAR As Of"),e.k0s(),e.j41(114,"input",47),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.optimal_car_as_of,t)||(o.form.optimal_car_as_of=t),e.Njj(t)}),e.k0s()(),e.j41(115,"div",49)(116,"label",41),e.EFF(117,"Optimal CAR Source"),e.k0s(),e.j41(118,"input",51),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.optimal_car_source,t)||(o.form.optimal_car_source=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(119,"div",34)(120,"div",35)(121,"div",36)(122,"div",37),e.EFF(123,"Data Quality"),e.k0s()(),e.j41(124,"div",38)(125,"div",39)(126,"div",40)(127,"label",41),e.EFF(128,"Status"),e.k0s(),e.j41(129,"input",51),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.data_quality_status,t)||(o.form.data_quality_status=t),e.Njj(t)}),e.k0s()(),e.j41(130,"div",49)(131,"label",41),e.EFF(132,"Notes"),e.k0s(),e.j41(133,"textarea",50),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.data_quality_notes,t)||(o.form.data_quality_notes=t),e.Njj(t)}),e.k0s()()()()()(),e.j41(134,"div",34)(135,"div",35)(136,"div",36)(137,"div",37),e.EFF(138,"Source"),e.k0s()(),e.j41(139,"div",38)(140,"div",39)(141,"div",40)(142,"label",41),e.EFF(143,"Source System"),e.k0s(),e.j41(144,"p-dropdown",52),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.source_system,t)||(o.form.source_system=t),e.Njj(t)}),e.k0s()(),e.j41(145,"div",40)(146,"label",41),e.EFF(147,"Batch ID"),e.k0s(),e.j41(148,"input",51),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.form.source_batch_id,t)||(o.form.source_batch_id=t),e.Njj(t)}),e.k0s()()()()()()(),e.j41(149,"div",53)(150,"button",24),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showSheet=!1)}),e.nrm(151,"i",25),e.j41(152,"span"),e.EFF(153,"Cancel"),e.k0s()(),e.j41(154,"button",10),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showConfirmSave=!0)}),e.nrm(155,"i",54),e.j41(156,"span"),e.EFF(157,"Save"),e.k0s()()()()()}if(2&l){const n=e.XpG();e.R7$(5),e.JRh("edit"===n.mode?"Edit NAV":"Add NAV"),e.R7$(14),e.R50("ngModel",n.form.nav_id),e.Y8G("readonly","edit"===n.mode),e.R7$(4),e.Aen(e.lJ4(38,u)),e.Y8G("options",n.entityOptions),e.R50("ngModel",n.form.entity_id),e.R7$(4),e.Aen(e.lJ4(39,u)),e.Y8G("options",n.currencyOptions),e.R50("ngModel",n.form.currency_code),e.R7$(4),e.Aen(e.lJ4(40,u)),e.Y8G("options",n.navTypeOptions),e.R50("ngModel",n.form.nav_type),e.R7$(4),e.Aen(e.lJ4(41,u)),e.Y8G("options",n.positionTypeOptions),e.R50("ngModel",n.form.position_type),e.R7$(4),e.R50("ngModel",n.form.as_of_date),e.R7$(11),e.R50("ngModel",n.form.current_position),e.R7$(4),e.R50("ngModel",n.form.computed_total_nav),e.R7$(11),e.R50("ngModel",n.form.coi_amount),e.R7$(4),e.R50("ngModel",n.form.re_amount),e.R7$(11),e.R50("ngModel",n.form.buffer_pct),e.R7$(4),e.R50("ngModel",n.form.buffer_amount),e.R7$(11),e.R50("ngModel",n.form.manual_overlay_amount),e.R7$(4),e.R50("ngModel",n.form.manual_overlay_notes),e.R7$(11),e.R50("ngModel",n.form.optimal_car_amount),e.R7$(4),e.R50("ngModel",n.form.optimal_car_as_of),e.R7$(4),e.R50("ngModel",n.form.optimal_car_source),e.R7$(11),e.R50("ngModel",n.form.data_quality_status),e.R7$(4),e.R50("ngModel",n.form.data_quality_notes),e.R7$(11),e.Aen(e.lJ4(42,u)),e.Y8G("options",n.sourceSystemOptions),e.R50("ngModel",n.form.source_system),e.R7$(4),e.R50("ngModel",n.form.source_batch_id)}}function w(l,v){if(1&l){const n=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showConfirmSave=!1)}),e.nrm(2,"i",25),e.j41(3,"span"),e.EFF(4,"Cancel"),e.k0s()(),e.j41(5,"button",10),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.confirmSave())}),e.nrm(6,"i",54),e.j41(7,"span"),e.EFF(8,"Confirm"),e.k0s()()()}}let x=(()=>{class l{onGridReady(n){this.gridApi=n.api,n.api.sizeColumnsToFit()}constructor(n,i,t){this.zone=n,this.svc=i,this.currencySvc=t,this.rows=[],this.search="",this.showSheet=!1,this.mode="add",this.showConfirmSave=!1,this.pendingDeleteId=null,this.showConfirmDelete=!1,this.form={nav_id:"",entity_id:"",currency_code:"",nav_type:""},this.entityOptions=[{label:"MBS Bank Ltd Singapore (MBS-SG-001)",value:"MBS-SG-001"},{label:"MBS Bank Hong Kong (MBS-HK-002)",value:"MBS-HK-002"},{label:"MBS Bank USA (MBS-US-003)",value:"MBS-US-003"},{label:"MBS Bank London (MBS-UK-004)",value:"MBS-UK-004"}],this.currencyOptions=[],this.navTypeOptions=[{label:"Daily",value:"Daily"},{label:"Monthly",value:"Monthly"},{label:"Quarterly",value:"Quarterly"},{label:"Annual",value:"Annual"}],this.positionTypeOptions=[{label:"Opening",value:"Opening"},{label:"Closing",value:"Closing"},{label:"Average",value:"Average"},{label:"Net",value:"Net"}],this.sourceSystemOptions=[{label:"Murex",value:"Murex"},{label:"Calypso",value:"Calypso"},{label:"SAP",value:"SAP"},{label:"Oracle",value:"Oracle"},{label:"In-House",value:"In-House"}],this.columnDefs=[{field:"nav_id",headerName:"NAV ID",width:150},{field:"entity_id",headerName:"Entity",width:160},{field:"currency_code",headerName:"Currency",width:120},{field:"nav_type",headerName:"NAV Type",width:140},{field:"position_type",headerName:"Position Type",width:150},{field:"as_of_date",headerName:"As of",width:140},{field:"current_position",headerName:"Current Position",width:160,type:"numericColumn"},{field:"computed_total_nav",headerName:"Computed NAV",width:160,type:"numericColumn"},{field:"coi_amount",headerName:"COI Amount",width:140,type:"numericColumn"},{field:"re_amount",headerName:"RE Amount",width:140,type:"numericColumn"},{field:"buffer_pct",headerName:"Buffer %",width:120,type:"numericColumn"},{field:"buffer_amount",headerName:"Buffer Amount",width:150,type:"numericColumn"},{field:"manual_overlay_amount",headerName:"Overlay Amount",width:160,type:"numericColumn"},{field:"optimal_car_amount",headerName:"Optimal CAR",width:150,type:"numericColumn"},{field:"optimal_car_as_of",headerName:"CAR As Of",width:150},{field:"optimal_car_source",headerName:"CAR Source",width:150},{field:"data_quality_status",headerName:"DQ Status",width:140},{field:"source_system",headerName:"Source System",width:150},{field:"source_batch_id",headerName:"Batch ID",width:140},{field:"created_at",headerName:"Created At",width:150},{field:"modified_at",headerName:"Modified At",width:150},{headerName:"Actions",width:120,pinned:"right",cellRenderer:o=>{const a=document.createElement("div");a.className="flex gap-2";const d=document.createElement("button");d.className="text-gray-500 hover:text-blue-600 p-1",d.innerHTML='<i class="pi pi-pencil"></i>',d.addEventListener("click",()=>o.context.componentParent.editRow(o.data));const c=document.createElement("button");return c.className="text-gray-500 hover:text-red-600 p-1",c.innerHTML='<i class="pi pi-trash"></i>',c.addEventListener("click",()=>o.context.componentParent.deleteRow(o.data)),a.appendChild(d),a.appendChild(c),a}}],this.defaultColDef={resizable:!0,sortable:!0,filter:"agSetColumnFilter",minWidth:150},this.gridOptions={pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100],animateRows:!0,context:{componentParent:this}}}ngOnInit(){this.loadRows(),this.loadCurrencyOptions()}loadCurrencyOptions(){var n=this;return(0,s.A)(function*(){try{const i=yield n.currencySvc.list();n.currencyOptions=i.map(t=>({label:t.currency_code,value:t.currency_code}))}catch(i){n.currencyOptions=[{label:"USD",value:"USD"},{label:"EUR",value:"EUR"},{label:"GBP",value:"GBP"},{label:"JPY",value:"JPY"},{label:"SGD",value:"SGD"}],console.error("Failed to load currencies, using fallback",i)}})()}onSearchChange(n){this.search=n,this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout(()=>this.loadRows(),300)}loadRows(){var n=this;return(0,s.A)(function*(){const i=yield n.svc.list({search:n.search||void 0});n.rows=i,setTimeout(()=>n.gridApi?.sizeColumnsToFit(),0)})()}openAdd(){this.mode="add",this.form={nav_id:"",entity_id:"",currency_code:"",nav_type:"",position_type:"",as_of_date:"",current_position:null,computed_total_nav:null,coi_amount:null,re_amount:null,buffer_pct:null,buffer_amount:null,manual_overlay_amount:null,manual_overlay_notes:"",optimal_car_amount:null,optimal_car_as_of:"",optimal_car_source:"",data_quality_status:"",data_quality_notes:"",source_system:"",source_batch_id:""},this.zone.run(()=>this.showSheet=!0)}editRow(n){var i=this;return(0,s.A)(function*(){i.mode="edit";const t=yield i.svc.getById(n.nav_id);i.form={nav_id:t.nav_id,entity_id:t.entity_id||"",currency_code:t.currency_code||"",nav_type:t.nav_type||"",position_type:t.position_type||"",as_of_date:t.as_of_date||"",current_position:t.current_position??null,computed_total_nav:t.computed_total_nav??null,coi_amount:t.coi_amount??null,re_amount:t.re_amount??null,buffer_pct:t.buffer_pct??null,buffer_amount:t.buffer_amount??null,manual_overlay_amount:t.manual_overlay_amount??null,manual_overlay_notes:t.manual_overlay_notes||"",optimal_car_amount:t.optimal_car_amount??null,optimal_car_as_of:t.optimal_car_as_of||"",optimal_car_source:t.optimal_car_source||"",data_quality_status:t.data_quality_status||"",data_quality_notes:t.data_quality_notes||"",source_system:t.source_system||"",source_batch_id:t.source_batch_id||""},i.zone.run(()=>i.showSheet=!0)})()}deleteRow(n){this.pendingDeleteId=n.nav_id,this.showConfirmDelete=!0,this.showSheet=!1}confirmDelete(){var n=this;return(0,s.A)(function*(){n.pendingDeleteId&&(yield n.svc.deleteById(n.pendingDeleteId),n.showConfirmDelete=!1,n.pendingDeleteId=null,yield n.loadRows())})()}confirmSave(){var n=this;return(0,s.A)(function*(){"edit"===n.mode?yield n.svc.updateById(n.form.nav_id,n.form):yield n.svc.insert(n.form),n.showConfirmSave=!1,n.showSheet=!1,n.mode="add",yield n.loadRows()})()}static{this.\u0275fac=function(i){return new(i||l)(e.rXU(e.SKi),e.rXU(j),e.rXU(N.P))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-config-positions-nav"]],standalone:!0,features:[e.aNF],decls:42,vars:20,consts:[[1,"p-6","h-full","flex","flex-col"],[1,"mb-6"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"filter-bar"],[1,"filter-row","w-full"],[1,"flex","items-center","space-x-2"],[1,"filter-label"],["placeholder","Search...",1,"filter-input","w-64",3,"ngModelChange","ngModel"],[1,"ml-auto"],[1,"btn","btn-primary",3,"click"],[1,"pi","pi-plus"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","flex-1","min-h-0"],[1,"ag-theme-alpine","w-full",2,"height","100%","min-height","520px",3,"gridReady","columnDefs","rowData","defaultColDef","gridOptions"],["header","Delete NAV","styleClass","app-dialog",3,"visibleChange","visible","modal","closable"],[1,"flex","flex-col","items-center","text-center","gap-2"],[1,"pi","pi-trash","text-red-500","text-4xl","mb-1"],[1,"text-base","font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],["pTemplate","footer"],["class","fixed inset-0 z-40",4,"ngIf"],["header","Confirm Changes","styleClass","app-dialog",3,"visibleChange","visible","modal","closable"],[1,"pi","pi-check-circle","text-green-500","text-4xl","mb-1"],[1,"flex","justify-end","gap-2","w-full"],[1,"btn","btn-secondary",3,"click"],[1,"pi","pi-times"],[1,"pi","pi-trash"],[1,"fixed","inset-0","z-40"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"absolute","inset-x-0","top-[2.5vh]","h-[95vh]","w-[100vw]","bg-white","shadow-xl","border","border-gray-200","rounded-t-2xl","overflow-hidden","flex","flex-col",3,"click"],[1,"flex","items-center","justify-between","px-4","py-3","border-b","border-gray-200"],[1,"text-base","font-semibold","text-gray-900"],[1,"btn","btn-tertiary",3,"click"],[1,"flex-1","overflow-auto","p-4","space-y-4","bg-[#F5F7F9]"],[1,"rounded-lg","border","border-gray-200","p-4","bg-white"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3"],[1,"text-sm","font-semibold","text-gray-700"],[1,"col-span-12","md:col-span-9"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"field"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"filter-input","w-full",3,"ngModelChange","ngModel","readonly"],["placeholder","Select entity","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],["placeholder","Select currency","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],["placeholder","Select NAV type","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],["placeholder","Select position type","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],["type","date",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","number","step","any",1,"filter-input","w-full",3,"ngModelChange","ngModel"],[1,"field","md:col-span-2"],["rows","3",1,"filter-input","w-full",3,"ngModelChange","ngModel"],[1,"filter-input","w-full",3,"ngModelChange","ngModel"],["placeholder","Select source system","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],[1,"px-4","py-3","border-t","border-gray-200","flex","justify-between","items-center","gap-2","bg-white"],[1,"pi","pi-check"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Positions & NAV"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Manage NAV and position snapshots"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Search:"),e.k0s(),e.j41(11,"input",8),e.mxI("ngModelChange",function(a){return e.DH7(t.search,a)||(t.search=a),a}),e.bIt("ngModelChange",function(a){return t.onSearchChange(a)}),e.k0s()(),e.j41(12,"div",9)(13,"button",10),e.bIt("click",function(){return t.openAdd()}),e.nrm(14,"i",11),e.j41(15,"span"),e.EFF(16,"Add"),e.k0s()()()()(),e.j41(17,"div",12)(18,"ag-grid-angular",13),e.bIt("gridReady",function(a){return t.onGridReady(a)}),e.k0s()(),e.j41(19,"p-dialog",14),e.mxI("visibleChange",function(a){return e.DH7(t.showConfirmDelete,a)||(t.showConfirmDelete=a),a}),e.j41(20,"div",15),e.nrm(21,"i",16),e.j41(22,"div",17),e.EFF(23,"Delete NAV"),e.k0s(),e.j41(24,"div",18),e.EFF(25,"Delete "),e.j41(26,"strong"),e.EFF(27),e.k0s(),e.EFF(28,"?"),e.k0s()(),e.DNE(29,k,9,0,"ng-template",19),e.k0s(),e.DNE(30,F,158,43,"div",20),e.j41(31,"p-dialog",21),e.mxI("visibleChange",function(a){return e.DH7(t.showConfirmSave,a)||(t.showConfirmSave=a),a}),e.j41(32,"div",15),e.nrm(33,"i",22),e.j41(34,"div",17),e.EFF(35,"Apply Changes"),e.k0s(),e.j41(36,"div",18),e.EFF(37,"Confirm updating NAV "),e.j41(38,"strong"),e.EFF(39),e.k0s(),e.EFF(40,"."),e.k0s()(),e.DNE(41,w,9,0,"ng-template",19),e.k0s()()),2&i&&(e.R7$(11),e.R50("ngModel",t.search),e.R7$(7),e.Y8G("columnDefs",t.columnDefs)("rowData",t.rows)("defaultColDef",t.defaultColDef)("gridOptions",t.gridOptions),e.R7$(),e.Aen(e.lJ4(18,g)),e.R50("visible",t.showConfirmDelete),e.Y8G("modal",!0)("closable",!1),e.R7$(8),e.JRh(t.pendingDeleteId),e.R7$(3),e.Y8G("ngIf",t.showSheet),e.R7$(),e.Aen(e.lJ4(19,g)),e.R50("visible",t.showConfirmSave),e.Y8G("modal",!0)("closable",!1),e.R7$(8),e.JRh(t.form.nav_id))},dependencies:[p.MD,p.bT,y.xs,_.YN,_.me,_.Q0,_.BC,_.vS,C.tm,M.Ei,f.P,f.l,h.kr,h.ms],encapsulation:2})}}return l})()}}]);